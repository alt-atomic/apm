# APM (Atomic Packages Manager)

APM — это консольный менеджер пакетов для атомарного образа системы и управления distrobox, предоставляющий возможности управления через DBUS. 

Сервис поддерживает три режима работы: в пользовательской сессии, в системной сессии, из консоли

Два формата ответов: text, json

Для справки вызовите:
```
apm -help
```

## Сборка
Необходимо установить язык программирования golang и запустить в директории проекта: 

```
go build -o apm
```

## Конфигурация
В данный момент программа ищет конфигурационный файл в директории из под которой она запущена, скопируйте файл из 
data/config_example.yml в папку с бинарным файлом и измените название на config.xml

## Пользовательская сессия DBUS
При запуске в пользовательской сессии сервис регистрируется в сессионной шине DBUS, что не требует дополнительных привилегий.

```
apm dbus-user
```

## Системная сессия DBUS
Для корректной работы необходимо применить политику доступа, путём копирования файла из 
data/dbus-config/apm.conf в директорию /etc/dbus-1/system.d/

```
sudo apm dbus-system
```
